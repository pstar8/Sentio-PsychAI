<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SentioüçÄ</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

    <!-- Favicon -->
     <link rel="stylesheet" href="./favicon_io (2)/favicon-16x16.png">

    <!-- Googe Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Comic+Relief:wght@400;700&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap" rel="stylesheet">

        <!-- CSS -->
         <style type="text/tailwindcss">
         @import "tailwindcss";

         *{
            box-sizing: border-box;
            margin: 0;
            padding: 0;
         }

            body {
                font-family: 'Lato', sans-serif;
                padding: 0%;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-self: center;
                align-content: center;
                gap: 2rem;
            }
            
            header {
                display: flex;
                justify-content: flex-start;
                align-items:flex-start;
                padding: 2rem;
            }

            .header_text {
                display: flex;
                flex-direction: column;
                align-items: center;
                text-align: center;
                margin-bottom: 1rem;
                gap: .5rem;
                padding: 1rem 2rem;
            }

            .input_results {
                display: flex;
                justify-content: center;
                align-items: center;
                flex-direction: column !important;
                gap: 2rem;
                padding: 1rem 2rem;
            }

            .input_container{
                min-width: 300px;
                display: flex;
                flex-direction: column;
                gap: 2rem;
                padding: 1.5rem;
            }

            .input_container > .text_area > form > textarea{
                padding: 1rem 12px;
            }

            .input_container > .text_area > form > .share {
                display: flex;
                align-items: center;
                justify-content: space-between;
                gap: 4rem;
                font-size: 12px;
            }

            .input_container > button{
                padding: 12px 0;
            }

            .results_box{
                min-width: 300px;
                max-width: 450px;
                font-size: 15px;
            }
            
            .results_placeholder,
            .results {
                display: flex;
                flex-direction: column;
                gap: 1.5rem;
                padding: 1.5rem;
            }

            .disclaimer_container {
                margin-top: 2rem;
                padding: 1rem 2rem;
            }
            
            .disclaimer_container > div {
                background-color: #00674F20;
                border: 1px solid #ffeeba;
                border-radius: 0.5rem;
                padding: 1rem 2rem;
                display: flex;
                flex-direction: column;
                gap: 0.5rem;
                align-items: flex-start;
                justify-content: center;
            }

            .disclaimer_container > div > h3 {
                color: #f8f9fa;
                font-size: 1.25rem;
                font-weight: 700;
            }

            .disclaimer_container > div > p {
                color: #f8f9fa;
                font-size: 0.875rem;
                opacity: 0.9;
            }

            footer {
                width: 100%;
                background-color: #004d40;
                color: #f8f9fa;
                padding: 1rem 2rem;
                text-align: center;
                margin-top: 2rem;
            }

            footer > p {
                margin: 0;
                font-size: 0.875rem;
                padding-block: 2rem;
            }
         </style>
</head>
<body class="bg-[#00674F] text-gray-800">
        <!-- Header -->
        <header class="flex flex-col justify-between items-center mb-8">
          <div class="flex justify-start items-center mb-4 md:mb-0">
            <div class="text-3xl">üçÄ</div>
            <h1 class="text-gray-200 text-2xl md:text-3xl font-bold">
             Sentio
            </h1>
          </div>
        </header>

        <div class="header_text mb-8 text-center">
          <h2 class="text-gray-200 text-3xl md:text-4xl font-bold mb-3">
            Your feelings deserve attention.
          </h2>
          <p class="text-gray-300 text-lg md:text-xl opacity-80 max-w-3xl mx-auto">
            Get insights about your mental well-being through AI-powered
            analysis.
          </p>
        </div>

        <div class="input_results flex flex-row gap-8">
          <!-- Input Section -->
          <div
            id="input-section"
            class="input_container bg-white rounded-xl shadow-md transition-all"
          >
            <h3 class="text-xl font-semibold mb-4">Share Your Thoughts</h3>
            <div class="text_area mb-6">
                <form method="POST" action="/predict">
                <textarea
                id="userText"
                class="w-full p-4 min-h-[200px] rounded-lg bg-gray-50 text-gray-800 border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#26A69A] transition-all text-sm"
                placeholder="Tell us how you're feeling today..."
                name="user_input"
                value ="{{ user_input|default('') }}"
                required
              ></textarea>
              <div class="share flex justify-between mt-2">
                <span>Share your thoughts, feelings, or current situation</span>
                <span id="wordCountDisplay" class="text-red-300">
                  15 words minimum
                </span>
              </div>
            </div>

            <button
              id="analyzeBtn"
              type="submit"
              class="w-full py-3 px-6 rounded-lg font-medium text-white transition-all flex items-center justify-center bg-[#004d40] cursor-pointer whitespace-nowrap hover:bg-[#00674F] focus:outline-none focus:ring-2 focus:ring-[#26A69A] "
            >
              Analyze
            </button>
            </form>
          </div>

          <!-- Results Section -->
          <div id="results-section" class="results_box flex items-center justify-center text-center p-8 rounded-xl bg-white shadow-md transition-all">
            <div id="results-placeholder" class="results_placeholder">
              <div class="text-6xl mb-4">üîç</div>
              <h3 class="text-xl font-semibold mb-2">
                Your Results Will Appear Here
              </h3>
              <p class="opacity-70">
                Share your thoughts in the text box and click analyze to get
                started.
              </p>
            </div>
            <div class="results ">
            {% if prediction %}
            <h1  class="text-2xl font-bold">Prediction</h1>
            <h2 class="text-lg mb-4">You most likely have... </h2>
            <p class="font-bold text-2xl">{{ prediction }}</p>
            <p style="margin-top: 3rem;" class="text-sm">No matter what this result says, please remember that you are not alone. Your thoughts and feelings are valid, and seeking help is a brave and beautiful step. Be gentle with yourselfüíö</p>
            <p class="mt-10 text-left italic font-thin">~PsychAI cares üçÄ</p>
            {% endif %}
            </div>
          </div>
        </div>

        <!-- Disclaimer  -->
        <div
          class="disclaimer_container mt-10 p-6"
        >
          <div class="flex flex-col gap-3 items-start">
            <h3 class="text-gray-300 text-xl font-bold mb-1">‚ö†Ô∏è Disclaimer</h3>
              <p class="text-gray-300 text-sm opacity-90">
                This tool is not a medical diagnosis. If you're in crisis or
                need support, please talk to a licensed professional. The
                analysis provided is based on patterns and should not replace
                professional medical advice.
              </p>
          </div>
        </div>

        <!-- Footer  -->
        <footer class="text-gray-200 p-4 text-center text-sm ">
          <p class="text-center">¬© 2025 PsychAI. All rights reserved.</p>
        </footer>
        <script>
            const results = document.getElementsByClassName("results");
            const resultsPlaceholder = document.getElementsByClassName("results_placeholder");
            // Hide the results placeholder if there is a diagnosis in the results
            if (results.length > 0 && resultsPlaceholder.length > 0) {
                // Check if the results container contains a prediction (diagnosis)
                const predictionExists = results[0].querySelector('h2, p');
                if (predictionExists && predictionExists.textContent.trim() !== "") {
                    resultsPlaceholder[0].style.display = "none";
                }
            }
        </script>
</body>
</html>